SELECT E.ID, IFNULL(P.CHILD_COUNT,0) CHILD_COUNT FROM ECOLI_DATA E LEFT JOIN (SELECT PARENT_ID, COUNT(*) CHILD_COUNT FROM ECOLI_DATA WHERE PARENT_ID IS NOT NULL GROUP BY PARENT_ID) P ON E.ID = P.PARENT_ID